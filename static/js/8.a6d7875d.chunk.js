(this["webpackJsonpcosmos-console"]=this["webpackJsonpcosmos-console"]||[]).push([[8],{516:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),i=a.n(n),r=a(73),l=a(478),c=a(53),o=Object(c.a)((function(e){return{container:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"94vh",backgroundColor:"#252525"},image:{width:"auto",height:400},message:{fontSize:20,fontWeight:400,color:e.palette.text.secondary},action:{marginTop:16}}}));function s(e){var t=o(),a=e.message,n=e.actionText,c=e.actionHandler,s=e.action,u=e.image;return i.a.createElement("div",{className:t.container},i.a.createElement("img",{className:t.image,src:u,alt:""}),i.a.createElement(r.a,{className:t.message},a),s&&i.a.createElement(l.a,{className:t.action,variant:"contained",size:"large",color:"secondary",onClick:c},n))}},518:function(e,t,a){"use strict";var n=a(34),i=a(0),r=a.n(i),l=a(3),c=a(53),o=a(17),s=a(476),u=a(478),d=a(477),m=a(73),f=Object(c.a)((function(e){return{appBar:{color:e.palette.primary,background:"white"},toolbar:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},buttons:{marginLeft:"auto"},action:{textTransform:"none",paddingLeft:16,paddingRight:16},title:{color:e.palette.text.primary,fontWeight:500},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(o.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},actionIcon:{marginRight:4}}}));t.a=function(e){var t=f(),a=e.title,i=e.selectionCount,c=e.actions,o=e.onAction,p=function(e){return function(){return o(e)}},g=r.a.createElement(m.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},a),b=r.a.createElement(m.a,{className:t.title,variant:"subtitle1",component:"div"},i," selected"),E=i>0;return r.a.createElement(s.a,{position:"static",elevation:1,className:t.appBar},r.a.createElement(d.a,{className:Object(l.a)(t.toolbar,Object(n.a)({},t.highlight,E))},E?b:g,r.a.createElement("div",{className:t.buttons},E?c?c.map((function(e){return!e.primary&&r.a.createElement(u.a,{className:t.action,variant:"text",size:"small",color:"primary",onClick:p(e.identifier)},r.a.createElement(e.icon,{className:t.actionIcon}),e.title)})):null:c?r.a.createElement(r.a.Fragment,null,c.map((function(e){return e.primary&&r.a.createElement(u.a,{className:t.action,variant:"text",size:"small",color:"primary",onClick:p(e.identifier)},r.a.createElement(e.icon,{className:t.actionIcon}),e.title)}))):null)))}},519:function(e,t,a){"use strict";a.d(t,"c",(function(){return h})),a.d(t,"b",(function(){return v})),a.d(t,"a",(function(){return y}));var n=a(0),i=a.n(n),r=a(486),l=a(487),c=a(501),o=a(488),s=a(73),u=a(146),d=a(147),m=a(478),f=a(53),p=a(178),g=a(490),b=a(24),E=Object(f.a)((function(e){return{root:{padding:16,marginLeft:16},title:{fontSize:16,marginBottom:24},clear:{display:"block",marginLeft:"auto",marginTop:16},datePicker:{marginTop:e.spacing(3),marginBottom:0}}}));function h(e,t){console.log(t);var a={};return e.forEach((function(e){"time_range"===e.type?(a[e.identifier]=t[e.identifier].option,"custom"===t[e.identifier].option&&(a[e.startIdentifier]=t[e.identifier].startDate.getTime(),a[e.endIdentifier]=t[e.identifier].endDate.getTime())):a[e.identifier]=t[e.identifier]})),console.log(a),a}function v(e,t){var a={};return e.forEach((function(e){if("time_range"===e.type){if(a[e.identifier]={},e.identifier in t?a[e.identifier].option=t[e.identifier]:a[e.identifier].option=e.defaultValue.option,e.startIdentifier in t){var n=parseInt(t[e.startIdentifier],10);a[e.identifier].startDate=new Date(n)}else a[e.identifier].startDate=e.defaultValue.startDate;if(e.endIdentifier in t){var i=parseInt(t[e.endIdentifier],10);a[e.identifier].endDate=new Date(i)}else a[e.identifier].endDate=e.defaultValue.endDate}else e.identifier in t?a[e.identifier]=t[e.identifier]:a[e.identifier]=e.defaultValue})),a}function y(e){var t=e.fields,a=e.values,n=e.onValueChange,f=e.onClear,h=E(),v=function(e){return function(t){n(e,t.target.value)}},y=function(e){return function(t){var i=Object.assign({},a[e]);i.option=t.target.value,n(e,i)}},C=function(e,t){return function(i){var r=Object.assign({},a[e.identifier]);r[t]=i,n(e.identifier,r)}};return i.a.createElement(b.a,{utils:p.a},i.a.createElement(u.a,{className:h.root},i.a.createElement(s.a,{className:h.title,variant:"h6"},"Filters"),i.a.createElement(d.a,{container:!0,spacing:3},t.map((function(e){return i.a.createElement(d.a,{item:!0,lg:12},"select"===e.type&&function(e,t){return i.a.createElement(r.a,{variant:"outlined",className:h.control,fullWidth:!0},i.a.createElement(l.a,{id:e.identifier},e.title),i.a.createElement(c.a,{labelId:e.identifier,value:t,onChange:v(e.identifier),label:e.title},e.options.map((function(e){return i.a.createElement(o.a,{value:e.value},e.title)}))))}(e,a[e.identifier]),"time_range"===e.type&&function(e,t){return i.a.createElement("div",null,i.a.createElement(r.a,{variant:"outlined",className:h.control,fullWidth:!0},i.a.createElement(l.a,{id:e.identifier},e.title),i.a.createElement(c.a,{labelId:e.identifier,value:t.option,onChange:y(e.identifier),label:e.title},e.options.map((function(e){return i.a.createElement(o.a,{value:e.value},e.title)})))),"custom"===t.option&&i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{margin:"normal",id:e.identifier+"Start",label:e.startTitle,format:"MM/dd/yyyy",inputVariant:"outlined",fullWidth:!0,value:null===t.startDate?new Date:new Date(t.startDate),onChange:C(e,"startDate"),className:h.datePicker}),i.a.createElement(g.a,{margin:"normal",id:e.identifier+"End",label:e.endTitle,format:"MM/dd/yyyy",inputVariant:"outlined",fullWidth:!0,value:null===t.endDate?new Date:new Date(t.endDate),onChange:C(e,"endDate"),className:h.datePicker})))}(e,a[e.identifier]))}))),i.a.createElement(m.a,{size:"small",color:"secondary",variant:"text",className:h.clear,onClick:f},"Clear")))}},534:function(e,t,a){"use strict";function n(e){return e.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}a.d(t,"a",(function(){return n}))},613:function(e,t,a){"use strict";a.r(t);var n=a(39),i=a(0),r=a.n(i),l=a(147),c=a(254),o=a(488),s=a(258),u=a(53),d=a(144),m=a(143),f=a(43),p=a(20),g=a(521),b=a.n(g),E=a(598),h=a(599),v=a(596),y=a(597),C=a(616),D=a(595),O=a(146),N=a(594),w=a(617);function k(e){var t=e.classes,a=e.order,n=e.orderBy,i=e.onRequestSort,l=e.headers;return r.a.createElement(N.a,null,r.a.createElement(D.a,null,l.map((function(e){return r.a.createElement(v.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},r.a.createElement(w.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(l=e.id,function(e){i(e,l)})},e.label,n===e.id?r.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var l}))))}function j(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var _=Object(u.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function I(e){var t=_(),a=e.onSelected,i=e.headers,l=e.selected,c=e.compact,o=e.onClick,s=e.renderCellValue,u=e.rows,d=e.totalRows,m=e.page,f=e.onChangePage,p=e.rowsPerPage,g=e.onChangeRowsPerPage,b=e.descendingComparator,N=r.a.useState("asc"),w=Object(n.a)(N,2),I=w[0],P=w[1],S=r.a.useState("calories"),A=Object(n.a)(S,2),R=A[0],T=A[1],L=p-u.length,x=function(e,t){return function(){t.clickable&&o(e)}};return r.a.createElement("div",{className:t.root},r.a.createElement(O.a,{className:t.paper},r.a.createElement(y.a,null,r.a.createElement(E.a,{className:t.table,size:c?"small":"medium"},r.a.createElement(k,{classes:t,selectionCount:l.length,order:I,orderBy:R,onSelectAll:function(e){if(e.target.checked){var t=u.map((function(e){return e.id}));a(t)}else a([])},onRequestSort:function(e,t){P(R===t&&"asc"===I?"desc":"asc"),T(t)},rowCount:u.length,headers:i}),r.a.createElement(h.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(u,function(e,t,a){return"desc"===t?function(t,n){return e(t,n,a)}:function(t,n){return-e(t,n,a)}}(b||j,I,R)).map((function(e,t){var a=l.indexOf(e.id)>=0;return r.a.createElement(D.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.identifier,selected:a},function(e,t){return r.a.createElement(r.a.Fragment,null,i.map((function(a,n){return r.a.createElement(v.a,{onClick:x(e,a)},s(e,t,a,n))})))}(e,t))})),L>0&&r.a.createElement(D.a,{style:{height:(c?33:53)*L}},r.a.createElement(v.a,{colSpan:6}))))),r.a.createElement(C.a,{rowsPerPageOptions:[20,40,60,80,100],component:"div",count:d,rowsPerPage:p,page:m,onChangePage:function(e,t){return f(t)},onChangeRowsPerPage:function(e){return g(parseInt(e.target.value,10))}})))}var P=a(518),S=a(519),A=a(516),R=a(30),T=a(534),L=a(520),x=a.n(L),B=a(177),V=a.n(B),M=a(536),K=a.n(M),W=a(535),q=a.n(W),z=a(537),F=a.n(z),U=a(551),H=a.n(U),J=a(552),Y=a.n(J),G=a(553),Q=a.n(G),X=Object(u.a)((function(e){return{container:{padding:16},enabled:{color:d.a[400]},disabled:{color:m.a[400]}}})),Z={records:[{name:"primary",permissions:["READ_ACCOUNTS","READ_SUBSCRIPTIONS","READ_WRITE_INVOICES","READ_WRITE_TRANSACIONS","READ_WRITE_PLANS"],requests:193,createdAt:new Date,status:"ENABLED"},{name:"secondary",permissions:["READ_ACCOUNTS","READ_SUBSCRIPTIONS"],requests:1999,createdAt:new Date,status:"DISABLED"}]},$=[{id:"name",numeric:!1,disablePadding:!1,label:"Name",clickable:!0},{id:"requests",numeric:!1,disablePadding:!1,label:"Requests",clickable:!0},{id:"created",numeric:!1,disablePadding:!1,label:"Created",clickable:!0},{id:"status",numeric:!1,disablePadding:!1,label:"Status",clickable:!0},{id:"actions",numeric:!1,disablePadding:!0,label:"",clickable:!1}],ee=[{identifier:"date_range",type:"time_range",title:"Time Range",startTitle:"Start Date",startIdentifier:"start_date",endTitle:"End Date",endIdentifier:"end_date",options:[{value:"all_time",title:"All Time"},{value:"last_3_months",title:"Last 3 Months"},{value:"last_6_months",title:"Last 6 Months"},{value:"last_9_months",title:"Last 9 Months"},{value:"last_12_months",title:"Last 12 Months"},{value:"last_15_months",title:"Last 15 Months"},{value:"last_18_months",title:"Last 18 Months"},{value:"custom",title:"Custom"}],defaultValue:{option:"all_time",startDate:new Date,endDate:new Date}},{identifier:"api_key_status",type:"select",title:"API Key Status",options:[{value:"all",title:"All"},{value:"enabled",title:"Enabled"},{value:"disabled",title:"Disabled"}],defaultValue:"all"}],te=[{identifier:"new",title:"New",icon:V.a,primary:!0},{identifier:"filter",title:"Filter",icon:q.a,primary:!0},{identifier:"default",title:"Default",icon:K.a,primary:!0},{identifier:"delete",title:"Delete",icon:x.a,primary:!1}],ae=[{identifier:"new",title:"New",icon:V.a,primary:!0},{identifier:"filter",title:"Filter",icon:q.a,primary:!0},{identifier:"compact",title:"Compact",icon:F.a,primary:!0},{identifier:"delete",title:"Delete",icon:x.a,primary:!1}];var ne={fetchAPIKeys:function(){return{type:"todo"}},newAPIKey:R.j};t.default=Object(f.b)((function(e){return{apiKeys:Z}}),ne)(Object(p.g)((function(e){var t=e.apiKeys,a=e.fetchAPIKeys,u=e.newAPIKey,d=e.history,m=e.location,f=b.a.parse(m.search),p=X(),g=Object(i.useState)(null),E=Object(n.a)(g,2),h=E[0],v=E[1],y=Object(i.useState)(null),C=Object(n.a)(y,2),D=C[0],O=C[1],N=Object(i.useState)([]),w=Object(n.a)(N,2),k=w[0],j=w[1],_=Object(i.useState)(Object.keys(f).length>0),R=Object(n.a)(_,2),L=R[0],x=R[1],B=Object(i.useState)(!1),V=Object(n.a)(B,2),M=V[0],K=V[1],W=Object(i.useState)(parseInt(f.page,10)||0),q=Object(n.a)(W,2),z=q[0],F=q[1],U=r.a.useState(f.limit||20),J=Object(n.a)(U,2),G=J[0],Z=J[1],ne=Object(S.b)(ee,f),ie=Object(i.useState)(ne),re=Object(n.a)(ie,2),le=re[0],ce=re[1],oe=function(e,t,a){var n=Object(S.c)(ee,e),i=new URLSearchParams(n);i.append("page",t),i.append("limit",a),d.push("/api-keys?"+i.toString())};"page"in f&&"limit"in f||oe(le,z,G),"start_date"in f&&(f.start_date=new Date(Number(f.start_date))),"end_date"in f&&(f.end_date=new Date(Number(f.end_date)));var se=function(){v(null),O(null)};return Object(i.useEffect)((function(){var e=Object(S.c)(ee,le);e.page=z,e.limit=G,a(e)}),[a,le,z,G]),r.a.createElement("div",null,r.a.createElement(P.a,{title:"API Keys",selectionCount:k.length,actions:M?te:ae,onAction:function(e){"new"===e?u():"filter"===e?x(!L):"compact"!==e&&"default"!==e||K(!M)}}),t&&t.records.length>0&&r.a.createElement(l.a,{container:!0,className:p.container},r.a.createElement(l.a,{item:!0,lg:L?10:12},r.a.createElement(I,{headers:$,onSelected:j,selected:k,compact:M,onClick:function(e){d.push("/apiKeys/"+e.id)},renderCellValue:function(e,t,a,n){switch(a.id){case"name":return e.name;case"status":return"ENABLED"===e.status?r.a.createElement(H.a,{className:p.enabled}):r.a.createElement(Y.a,{className:p.disabled});case"requests":return e.requests;case"created":return Object(T.a)(e.createdAt);case"actions":return r.a.createElement(s.a,{onClick:(i=e,function(e){v(e.target),O(i)})},r.a.createElement(Q.a,null));default:return"Unknown Column"}var i},rows:t.records,totalRows:t.totalRecords,page:z,rowsPerPage:G,onChangePage:function(e){F(e),oe(le,e,G)},onChangeRowsPerPage:function(e){F(0),Z(e),oe(le,0,e)}})),L&&r.a.createElement(l.a,{item:!0,lg:2,className:p.filter},r.a.createElement(S.a,{fields:ee,values:le,onValueChange:function(e,t){var a=Object.assign({},le);a[e]=t,ce(a),oe(a,z,G)},onClear:function(){var e=Object(S.b)(ee,{});ce(e),oe(e,z,G)}}))),(!t||0===t.records.length)&&r.a.createElement(A.a,{message:"You have not created any API keys yet.",action:!0,actionText:"Create API Key",actionHandler:u,image:"assets/images/empty-api-keys.svg"}),h&&r.a.createElement(c.a,{anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:se},r.a.createElement(o.a,{onClick:se},"Edit"),r.a.createElement(o.a,{onClick:se},"Delete"),r.a.createElement(o.a,{onClick:se},"ENABLED"===D.status?"Disable":"Enable")))})))}}]);
//# sourceMappingURL=8.a6d7875d.chunk.js.map